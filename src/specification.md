---
layout: DocumentationLayout
pageHeading: The Spec
---

The complete documentation for the Stratum v2 Protocol Specification are located on [Github](https://www.github.com/stratum-mining/stratum).

## Authors

Pavel Moravec <pavel@braiins.com>  
Jan ÄŒapek <jan@braiins.com>  
Matt Corallo <bipstratum@bluematt.me>

## The Stratum V2 Protocol

- [0. Abstract](https://www.github.com/stratum-mining/sv2-spec/blob/main/00-Abstract.md#0-abstract)
- [1. Motivation](https://www.github.com/stratum-mining/sv2-spec/blob/main/01-Motivation.md#1-motivation)
- [2. Design Goals](https://www.github.com/stratum-mining/sv2-spec/blob/main/02-Design-Goals.md#2-design-goals)
- [3. Protocol Overview](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#3-protocol-overview)
  - [3.1 Data Types Mapping](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#31-data-types-mapping)
  - [3.2 Framing](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#32-framing)
  - [3.3 Reconnecting Downstream Nodes](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#33-reconnecting-downstream-nodes)
  - [3.4 Protocol Extensions](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#34-protocol-extensions)
  - [3.5 Error Codes](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#35-error-codes)
  - [3.6 Common Protocol Messages](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#36-common-protocol-messages)
    - [3.6.1 SetupConnection (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#361-setupconnection-client---server)
    - [3.6.2 SetupConnection.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#362-setupconnectionsuccess-server---client)
    - [3.6.3 SetupConnection.Error (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#363-setupconnectionerror-server---client)
    - [3.6.4 ChannelEndpointChanged (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/03-Protocol-Overview.md#364-channelendpointchanged-server---client)
- [4. Protocol Security](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md)
  - [4.1 Motivation for Authenticated Encryption with Associated Data](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#41-motivation-for-authenticated-encryption-with-associated-data)
  - [4.2 Motivation for Using the Noise Protocol Framework](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#42-motivation-for-using-the-noise-protocol-framework)
  - [4.3 Choice of cryptographic primitives](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#43-choice-of-cryptographic-primitives)
    - [4.3.1 Elliptic Curve](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#431-elliptic-curve)
      - [4.3.1.1 EC point encoding remarks](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#4311-ec-point-encoding-remarks)
    - [4.3.2 Hash function](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#432-hash-function)
    - [4.3.3 Cipher function for authenticated encryption](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#433-cipher-function-for-authenticated-encryption)
  - [4.4 Cryptographic operations](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#44-cryptographic-operations)
    - [4.4.1 CipherState object](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#441-cipherstate-object)
    - [4.4.2 Handshake Operation](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#442-handshake-operation)
  - [4.5 Authenticated Key Agreement Handshake](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#45-authenticated-key-agreement-handshake)
    - [4.5.1 Handshake Act 1: Noise protocol proposal](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#451-handshake-act-1-noise-protocol-proposal)
    - [4.5.2 Handshake Act 2: Noise protocol choice](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#452-handshake-act-2-noise-protocol-choice)
    - [4.5.3 Handshake Act 3: NX-handshake part 1 `-> e`](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#453-handshake-act-3-nx-handshake-part-1---e)
    - [4.5.4 Handshake Act 4: NX-handshake part 2 `<- e, ee, s, es, SIGNATURE_NOISE_MESSAGE`](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#454-handshake-act-4-nx-handshake-part-2---e-ee-s-es-signature_noise_message)
    - [4.5.5 Server authentication](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#455-server-authentication)
      - [4.5.5.1 Signature structure](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#4551-signature-structure)
    - [4.5.6 Transport message encryption and format](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#456-transport-message-encryption-and-format)
  - [4.6 URL Scheme and Pool Authority Key](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#46-url-scheme-and-pool-authority-key)
  - [4.7 References](https://www.github.com/stratum-mining/sv2-spec/blob/main/04-Protocol-Security.md#47-references)
- [5. Mining Protocol](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md)
  - [5.1 Channels](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#51-channels)
    - [5.1.1 Standard Channels](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#511-standard-channels)
    - [5.1.2 Extended Channels](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#512-extended-channels)
    - [5.1.3 Group Channels](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#513-group-channels)
    - [5.1.4 Future Jobs](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#514-future-jobs)
  - [5.2 Hashing Space Distribution](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#52-hashing-space-distribution)
  - [5.3 Mining Protocol Messages](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#53-mining-protocol-messages)
    - [5.3.1 SetupConnection Flags for Mining Protocol](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#531-setupconnection-flags-for-mining-protocol)
    - [5.3.2 OpenStandardMiningChannel (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#532-openstandardminingchannel-client---server)
    - [5.3.3 OpenStandardMiningChannel.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#533-openstandardminingchannelsuccess-server---client)
    - [5.3.4 OpenExtendedMiningChannel (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#534-openextendedminingchannel-client---server)
    - [5.3.5 OpenExtendedMiningChannel.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#535-openextendedminingchannelsuccess-server---client)
    - [5.3.6 OpenMiningChannel.Error (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#536-openminingchannelerror-server---client)
    - [5.3.7 UpdateChannel (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#537-updatechannel-client---server)
    - [5.3.8 UpdateChannel.Error (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#538-updatechannelerror-server---client)
    - [5.3.9 CloseChannel (Client -> Server, Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#539-closechannel-client---server-server---client)
    - [5.3.10 SetExtranoncePrefix (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5310-setextranonceprefix-server---client)
    - [5.3.11 SubmitSharesStandard (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5311-submitsharesstandard-client---server)
    - [5.3.12 SubmitSharesExtended (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5312-submitsharesextended-client---server)
    - [5.3.13 SubmitShares.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5313-submitsharessuccess-server---client)
    - [5.3.14 SubmitShares.Error (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5314-submitshareserror-server---client)
    - [5.3.15 NewMiningJob (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5315-newminingjob-server---client)
    - [5.3.16 NewExtendedMiningJob (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5316-newextendedminingjob-server---client)
    - [5.3.17 SetNewPrevHash (Server -> Client, broadcast)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5317-setnewprevhash-server---client-broadcast)
    - [5.3.18 SetCustomMiningJob (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5318-setcustomminingjob-client---server)
    - [5.3.19 SetCustomMiningJob.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5319-setcustomminingjobsuccess-server---client)
    - [5.3.20 SetCustomMiningJob.Error (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5320-setcustomminingjoberror-server---client)
    - [5.3.21 SetTarget (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5321-settarget-server---client)
    - [5.3.22 Reconnect (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5322-reconnect-server---client)
    - [5.3.23 SetGroupChannel (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/05-Mining-Protocol.md#5323-setgroupchannel-server---client)
- [6. Job Negotiation Protocol](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md)
  - [6.1 Job Negotiation Protocol Messages](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#61-job-negotiation-protocol-messages)
    - [6.1.1 SetupConnection Flags for Job Negotiation Protocol](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#611-setupconnection-flags-for-job-negotiation-protocol)
    - [6.1.2 AllocateMiningJobToken (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#612-allocateminingjobtoken-client---server)
    - [6.1.3 AllocateMiningJobToken.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#613-allocateminingjobtokensuccess-server---client)
    - [6.1.4 CommitMiningJob (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#614-commitminingjob-client---server)
    - [6.1.5 CommitMiningJob.Success (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#615-commitminingjobsuccess-server---client)
    - [6.1.6 CommitMiningJob.Error (Server->Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#616-commitminingjoberror-server-client)
    - [6.1.7 IdentifyTransactions (Server->Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#617-identifytransactions-server-client)
    - [6.1.8 IdentifyTransactions.Success (Client->Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#618-identifytransactionssuccess-client-server)
    - [6.1.9 ProvideMissingTransactions (Server->Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#619-providemissingtransactions-server-client)
    - [6.1.10 ProvideMissingTransactions.Success (Client->Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/06-Job-Negotiation-Protocol.md#6110-providemissingtransactionssuccess-client-server)
- [7. Template Distribution Protocol](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md)
  - [7.1 CoinbaseOutputDataSize (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#71-coinbaseoutputdatasize-client---server)
  - [7.2 NewTemplate (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#72-newtemplate-server---client)
  - [7.3 SetNewPrevHash (Server -> Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#73-setnewprevhash-server---client)
  - [7.4 RequestTransactionData (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#74-requesttransactiondata-client---server)
  - [7.5 RequestTransactionData.Success (Server->Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#75-requesttransactiondatasuccess-server-client)
  - [7.6 RequestTransactionData.Error (Server->Client)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#76-requesttransactiondataerror-server-client)
  - [7.7 SubmitSolution (Client -> Server)](https://www.github.com/stratum-mining/sv2-spec/blob/main/07-Template-Distribution-Protocol.md#77-submitsolution-client---server)
- [8. Message Types](https://www.github.com/stratum-mining/sv2-spec/blob/main/08-Message-Types.md)
- [9. Extensions](https://www.github.com/stratum-mining/sv2-spec/blob/main/09-Extensions.md)
- [10. Discussion](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#10-discussion)
  - [10.1 Speculative Mining Jobs](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#101-speculative-mining-jobs)
  - [10.2 Rolling `nTime`](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#102-rolling-ntime)
    - [10.2.1 Hardware nTime rolling](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1021-hardware-ntime-rolling)
  - [10.3 Notes](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#103-notes)
  - [10.4 Usage Scenarios](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#104-usage-scenarios)
    - [10.4.1 End Device (v2 ST)](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1041-end-device-v2-st)
    - [10.4.2 Transparent Proxy (v2 any -> v2 any)](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1042-transparent-proxy-v2-any---v2-any)
    - [10.4.3 Difficulty Aggregating Proxy (v2 any -> v2 EX)](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1043-difficulty-aggregating-proxy-v2-any---v2-ex)
    - [10.4.4 Proxy (v1 -> v2)](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1044-proxy-v1---v2)
    - [10.4.5 Proxy (v2 -> v1)](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1045-proxy-v2---v1)
  - [10.5. FAQ](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#105-faq)
    - [10.5.1 Why is the protocol binary?](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#1051-why-is-the-protocol-binary)
  - [10.6 Terminology](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#106-terminology)
  - [10.7 Open Questions / Issues](https://www.github.com/stratum-mining/sv2-spec/blob/main/10-Discussion.md#107-open-questions--issues)
